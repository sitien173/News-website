<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Cập nhập mật khẩu</title>
    <link rel="stylesheet" href="https://unpkg.com/spectre.css/dist/spectre.min.css">
    <link rel="stylesheet" href="https://unpkg.com/spectre.css/dist/spectre-exp.min.css">
    <link rel="stylesheet" href="https://unpkg.com/spectre.css/dist/spectre-icons.min.css">
    <base th:href="${#servletContext.getContextPath()}">
    <style>
        body {
            background: #fff;
            background-image: url('/assets/img/bg.svg');
            background-repeat: no-repeat;
            background-size: cover;
        }
        .box-shadow {
            box-shadow: rgba(0, 0, 0, 0.4) 0px 2px 4px, rgba(0, 0, 0, 0.3) 0px 7px 13px -3px, rgba(0, 0, 0, 0.2) 0px -3px 0px inset;
        }
    </style>
</head>
<body>
<div class="container d-flex flex-centered" style="margin-top: 50px">
    <div class="col-4">
        <form id="form" class="card d-flex flex-centered box-shadow" th:action="@{/update-password}" method="post">
            <div class="card-header">
                <figure class="figure text-center">
                    <img style="object-fit: cover;width: 100px" th:src="@{/assets/img/update-password.svg}" alt="Update Passowrd">
                    <figcaption class="figure-caption text-center"><em>Mật khẩu được mã hoá 1 cách an toàn với thuật toán thông minh</em></figcaption>
                </figure>
            </div>
            <div class="form-group">
                <div class="col-12 mr-2">
                    <label class="form-label" for="password">Mật khẩu mới</label>
                    <input name="password" placeholder="Password"
                           pattern="^(?=.*?[A-Z])(?=.*?[a-z])(?=.*?[0-9])(?=.*?[#?!@$%^&*-]).{8,100}$" type="password"
                           required class="form-input" id="password">
                </div>
                <div class="col-12 mr-2">
                    <label class="form-label" for="password">Nhập lại mật khẩu mới</label>
                    <input placeholder="Re-Password"
                           pattern="^(?=.*?[A-Z])(?=.*?[a-z])(?=.*?[0-9])(?=.*?[#?!@$%^&*-]).{8,100}$" type="password"
                           required class="form-input" id="repassword">
                    <p style="display: none" id="error" class="label label-rounded label-error"></p>
                </div>
            </div>
            <div class="card-footer">
                <button class="btn btn-primary" type="submit">Cập nhật</button>
            </div>
        </form>
    </div>
</div>
<script>
    function isValid(event) {
        let password = document.getElementById("password").value;
        let rePassword = document.getElementById("repassword").value;
        if (password !== rePassword) {
            let error = document.getElementById("error");
            error.style.display = 'block';
            error.textContent = "Password in correct";
            return event.preventDefault();
        }
    }

    document.addEventListener("DOMContentLoaded", function () {
        const form = document.getElementById("form");
        form.addEventListener("submit", isValid);
    });
</script>
</body>
</html>